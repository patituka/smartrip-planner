<form (ngSubmit)="onSubmit()" [formGroup]="form">
    <ion-list>
      <ion-item *ngFor="let control of controls">
        <ion-input 
            *ngIf="control.controlType === 'textbox'"
            [formControlName]="control.key"
            [id]="control.key" 
            [type]="control.type" 
            [placeholder]="control.label">
        </ion-input>

        <ion-textarea 
          *ngIf="control.controlType === 'textarea'" 
          [formControlName]="control.key"
          [id]="control.key" 
          [placeholder]="control.label" 
          rows="4">
        </ion-textarea>

        <ion-datetime 
          *ngIf="control.controlType === 'datetime'" 
          [formControlName]="control.key"
          [placeholder]="control.label" 
          [min]="minDate"
          displayFormat="DD/MM/YYYY">
        </ion-datetime>

        <ion-label 
          *ngIf="control.withLabel">
          {{control.label}}
        </ion-label>

        <ion-range 
          *ngIf="control.controlType === 'range'" 
          [formControlName]="control.key" 
          [min]="control.min" 
          [max]="control.max" pin color="secondary">
          <ion-icon slot="start" size="small" [name]="control.icon"></ion-icon>
          <ion-icon slot="end" [name]="control.icon"></ion-icon>
        </ion-range>
  
        <ion-select 
            [formControlName]="control.key" 
            [id]="control.key" 
            *ngIf="control.controlType === 'select'">

          <ion-option 
            *ngFor="let option of control.options" 
            [value]="option">{{option.label}}
          </ion-option>
        </ion-select>

      <ion-segment value="favorite">

        <ion-segment-button 
          *ngFor="let option of control.options" 
          [value]="option.key">
          <ion-label>{{option.label}}</ion-label>
        </ion-segment-button>
      </ion-segment>

      </ion-item>
    </ion-list>
  </form>
  